Разбор домашнего задания
Логгер

# Что такое поток
https://ru.wikipedia.org/wiki/Поток_выполнения

Пото́к выполне́ния (тред; от англ. thread — нить) — наименьшая единица обработки, исполнение которой может быть назначено ядром операционной системы. Реализация потоков выполнения и процессов в разных операционных системах отличается друг от друга, но в большинстве случаев поток выполнения находится внутри процесса. Несколько потоков выполнения могут существовать в рамках одного и того же процесса и совместно использовать ресурсы, такие как память, тогда как процессы не разделяют этих ресурсов.


# Простые практические примеры
* Простая программа с двумя потоками. Один поток увеличивает счетчик, другой поток выводит на экран.

* Один поток увеличивает i, Второй поток выводит четные i

Мьютекс — способ управления доступом к данным для параллельно выполняющихся потоков: только один поток может захватить мьютекс и получить доступ к данным в конкретный момент времени

Добавляем мьютекс и пробуем его залочить и разлочить

RAII
Пишем свою реализацию MutexGuard
std::lock_guard

# Классические задачи параллельного программирования
* Задача о спящем парикмахере
  - Состояние гонки - любая ситуация, исход которой зависит от относительного порядка выполнения операций в двух и более потоках

* Задача об обедающих философах
  - Состояние гонки
  - Взаимная блокировка
  - Решения: Иерархия ресурсов, Официант

# Домашнее задание
* Выставляем Poco::Data::SQLite::Utility::setThreadMode(Poco::Data::SQLite::Utility::THREAD_MODE_SINGLE);
* parameters->setMaxThreads(2);
* Запускаем несколько запросов разом - видим проблемы `while(true); do curl 127.0.0.1/user/meeting &; done`
* Нужно избавиться от гонок
